---

layout: post
title: "dubbo"
date: 2022-05-30 10:25:06 +0800
comments: true
category: java
tag: [java]

---

# Dubbo 源码解析

### bean加载，实例化

参考文章 [https://blog.csdn.net/leisurelen/article/details/107078066](https://blog.csdn.net/leisurelen/article/details/107078066)

示例代码仓库: [https://github.com/gongchangyou/bean](https://github.com/gongchangyou/bean)



核心代码

```
@Slf4j
@Component
public class AbstractAnnotationBeanPostProcessor implements BeanDefinitionRegistryPostProcessor, SmartInstantiationAwareBeanPostProcessor {
    @Override
    @Nullable
    public Object postProcessBeforeInstantiation(Class<?> beanClass, String beanName) throws BeansException {
        final List<Object> elements = new LinkedList<>();
        ReflectionUtils.doWithFields(beanClass, new ReflectionUtils.FieldCallback() {
            @Override
            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {
                if (field.getAnnotation(Dubbo.class)!=null) {
                    elements.add(field);
                    //可以在这里做一些根据初始化field的 操作
                }
            }
        });
        log.info("beanName={} list={}",beanName,elements);
        return null;
    }
}
```



### 客户端调用



