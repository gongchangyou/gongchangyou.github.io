---
layout: post
title: "monitor"
date: 2022-05-05 10:25:06 +0800
comments: true
category: java
tag: [java]

---

# MQTT

[https://www.cnblogs.com/yourstars/p/15247707.html](https://www.cnblogs.com/yourstars/p/15247707.html)

```
docker pull emqx
```

```
docker run  --name=mqtt --restart=always -d -p 18083:18083 -p 1883:1883 emqx
```



默认账号：admin
默认密码：public





qos: [https://www.csdn.net/tags/MtjaYg5sMTU0NTgtYmxvZwO0O0OO0O0O.html](https://www.csdn.net/tags/MtjaYg5sMTU0NTgtYmxvZwO0O0OO0O0O.html)

​	[https://blog.csdn.net/qq_24505127/article/details/101701011](https://blog.csdn.net/qq_24505127/article/details/101701011)

​	[https://blog.csdn.net/m0_50668851/article/details/112555171](https://blog.csdn.net/m0_50668851/article/details/112555171)

QOS : 

| QOS  | SAVE MESSAGE                |               |
| ---- | --------------------------- | ------------- |
| 0    | broker                      | at most once  |
| 1    | publisher  broker           | at least once |
| 2    | publisher broker subscriber | exactly once  |





will : 可以自定义遗嘱，在messageArrived中根据payload来确认producer是否掉线

那么如何知道消费端是否掉线呢？ connectionLost 方法





java代码： [https://github.com/gongchangyou/mqtt](https://github.com/gongchangyou/mqtt)



