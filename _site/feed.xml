<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Mouse的博客</title>
		<description>记录学习生活工作的点滴</description>
		<link>http://localhost:4000</link>
		<atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>quic</title>
				<description>&lt;h1 id=&quot;quic&quot;&gt;quic&lt;/h1&gt;

</description>
				<pubDate>Thu, 15 Sep 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/09/quic</link>
				<guid isPermaLink="true">http://localhost:4000/2022/09/quic</guid>
			</item>
		
			<item>
				<title>spel</title>
				<description>&lt;h1 id=&quot;spel&quot;&gt;SpEL&lt;/h1&gt;

&lt;p&gt;spring 是一个支持查询和操作运行时对象导航图功能的强大的表达式语言. 它的语法类似于传统EL.&lt;/p&gt;

&lt;p&gt;参考文章: &lt;a href=&quot;http://itmyhome.com/spring/expressions.html&quot;&gt;http://itmyhome.com/spring/expressions.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://juejin.cn/post/6921491842865299469&quot;&gt;https://juejin.cn/post/6921491842865299469&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://spring.hhui.top/spring-blog/2020/05/18/200518-SpringBoot%E7%B3%BB%E5%88%97%E4%B9%8BSpEL%E8%AF%AD%E6%B3%95%E6%89%AB%E7%9B%B2%E4%B8%8E%E6%9F%A5%E8%AF%A2%E6%89%8B%E5%86%8C/&quot;&gt;https://spring.hhui.top/spring-blog/2020/05/18/200518-SpringBoot%E7%B3%BB%E5%88%97%E4%B9%8BSpEL%E8%AF%AD%E6%B3%95%E6%89%AB%E7%9B%B2%E4%B8%8E%E6%9F%A5%E8%AF%A2%E6%89%8B%E5%86%8C/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.baeldung.com/spring-expression-language&quot;&gt;https://www.baeldung.com/spring-expression-language&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;代码仓库: &lt;a href=&quot;https://github.com/gongchangyou/spel_demo&quot;&gt;https://github.com/gongchangyou/spel_demo&lt;/a&gt;&lt;/p&gt;

</description>
				<pubDate>Tue, 13 Sep 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/09/SpEL</link>
				<guid isPermaLink="true">http://localhost:4000/2022/09/SpEL</guid>
			</item>
		
			<item>
				<title>udp</title>
				<description>&lt;h1 id=&quot;udp-multicast&quot;&gt;Udp multicast&lt;/h1&gt;

&lt;p&gt;因为传统的tcp 在金融领域的延迟太高了（1ms)&lt;/p&gt;

&lt;p&gt;一般选择udp，再添加定制化开发一些服务的保证。&lt;/p&gt;

</description>
				<pubDate>Mon, 05 Sep 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/09/udp</link>
				<guid isPermaLink="true">http://localhost:4000/2022/09/udp</guid>
			</item>
		
			<item>
				<title>b+tree</title>
				<description>&lt;h1 id=&quot;btree&quot;&gt;b+tree&lt;/h1&gt;

&lt;p&gt;因为 ignite 搜索后迭代效率有点低，所以找找看有没有现成的内存 B+树。&lt;/p&gt;

&lt;p&gt;开源的有btree4j 有 bug， 网上搜到的范围查询 要遍历所有节点，性能不佳，所以自行开发。&lt;/p&gt;

&lt;p&gt;代码仓库: &lt;a href=&quot;https://github.com/gongchangyou/dolphincache&quot;&gt;https://github.com/gongchangyou/dolphincache&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;参考文章: &lt;a href=&quot;https://www.cnblogs.com/zzk0/p/14656189.html&quot;&gt;https://www.cnblogs.com/zzk0/p/14656189.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html&quot;&gt;https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html&lt;/a&gt;&lt;/p&gt;
</description>
				<pubDate>Sat, 20 Aug 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/08/b+tree</link>
				<guid isPermaLink="true">http://localhost:4000/2022/08/b+tree</guid>
			</item>
		
			<item>
				<title>scope</title>
				<description>&lt;h1 id=&quot;scope&quot;&gt;Scope&lt;/h1&gt;

&lt;p&gt;如果不想bean 创建的是单例，只需要添加 @Scope(“prototype”) 注解即可&lt;/p&gt;

</description>
				<pubDate>Wed, 03 Aug 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/08/scope</link>
				<guid isPermaLink="true">http://localhost:4000/2022/08/scope</guid>
			</item>
		
			<item>
				<title>autowired</title>
				<description>&lt;h1 id=&quot;autowired-注入list&quot;&gt;autowired 注入list&lt;/h1&gt;

&lt;p&gt;代码仓库： &lt;a href=&quot;https://github.com/gongchangyou/spring_xml_test&quot;&gt;https://github.com/gongchangyou/spring_xml_test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;autowired 注入list  .  按照Order中的 数字 由小到大放入 list。&lt;/p&gt;

&lt;p&gt;如果要注入map。 就 @PostConstruct, stream 将list中的元素整理成map&lt;/p&gt;

&lt;p&gt;参考文章： &lt;a href=&quot;https://cloud.tencent.com/developer/article/1420334&quot;&gt;https://cloud.tencent.com/developer/article/1420334&lt;/a&gt;&lt;/p&gt;

</description>
				<pubDate>Fri, 29 Jul 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/07/autowired-list</link>
				<guid isPermaLink="true">http://localhost:4000/2022/07/autowired-list</guid>
			</item>
		
			<item>
				<title>xml</title>
				<description>&lt;h1 id=&quot;xml&quot;&gt;Xml&lt;/h1&gt;

&lt;p&gt;代码仓库： &lt;a href=&quot;https://github.com/gongchangyou/spring_xml_test&quot;&gt;https://github.com/gongchangyou/spring_xml_test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;接手了一个老项目，使用xml加载 bean对象 .&lt;/p&gt;

&lt;p&gt;如果想要混用，也行, 关键字是 @ImportResource(“classpath:beans.xml”)  自动加载xml中的bean&lt;/p&gt;

&lt;p&gt;参考文章： &lt;a href=&quot;https://www.baeldung.com/spring-boot-xml-beans&quot;&gt;https://www.baeldung.com/spring-boot-xml-beans&lt;/a&gt;&lt;/p&gt;

</description>
				<pubDate>Thu, 28 Jul 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/07/xml</link>
				<guid isPermaLink="true">http://localhost:4000/2022/07/xml</guid>
			</item>
		
			<item>
				<title>poi</title>
				<description>&lt;h1 id=&quot;poi-excel-读写&quot;&gt;poi excel 读写&lt;/h1&gt;

&lt;p&gt;代码仓库：&lt;a href=&quot;https://github.com/gongchangyou/excelreader&quot;&gt;https://github.com/gongchangyou/excelreader&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;枚举项可以 利用 XSSFDataValidationConstraint 增加 数据有效性的 限制。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/202207/WechatIMG357.png&quot; alt=&quot;&quot; width=&quot;400&quot; /&gt;&lt;/p&gt;

&lt;p&gt;参考文章: &lt;a href=&quot;https://blog.csdn.net/Janson_Lin/article/details/108379333&quot;&gt;https://blog.csdn.net/Janson_Lin/article/details/108379333&lt;/a&gt;&lt;/p&gt;

</description>
				<pubDate>Fri, 22 Jul 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/07/poi</link>
				<guid isPermaLink="true">http://localhost:4000/2022/07/poi</guid>
			</item>
		
			<item>
				<title>skywalking</title>
				<description>&lt;h1 id=&quot;skywalking&quot;&gt;skywalking&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;docker-compose up -d 启动 es + kibana + oap + UI
  &lt;a href=&quot;/images/202207/docker-compose.yml&quot;&gt;docker-compose.yml&lt;/a&gt;  docker-compose up -d&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  version: '2.2'
  services:
    es-node:
     image: docker.elastic.co/elasticsearch/elasticsearch:7.5.0
     container_name: es-node
     environment:
       - node.name=es-node
       - cluster.name=es-cluster-7
       - discovery.type=single-node
       - xpack.security.enabled=false
       - &quot;ES_JAVA_OPTS=-Xms1G -Xmx1G&quot;
     ulimits:
       memlock:
         soft: -1
         hard: -1
     volumes:
       - ./data:/usr/share/elasticsearch/data
     ports:
       - 9200:9200
     networks:
       - skywalking-network

    kibana:
     image: docker.elastic.co/kibana/kibana:7.5.0
     environment:
       ELASTICSEARCH_HOSTS: http://es-node:9200
     ports:
       - 5601:5601
     networks:
       - skywalking-network
     depends_on:
       - es-node

    oap:
     image: apache/skywalking-oap-server:8.9.1
     container_name: oap1
     environment:
       SW_STORAGE: elasticsearch
       SW_STORAGE_ES_CLUSTER_NODES: es-node:9200
       TZ: Asia/Shanghai 
     ports:
       - 12800:12800
       - 11800:11800
     networks:
       - skywalking-network
     depends_on:
       - es-node

    ui:
      image: apache/skywalking-ui:8.9.1
      environment:
        SW_OAP_ADDRESS: http://oap1:12800
        TZ: Asia/Shanghai 
      ports:
        - 8088:8080
      networks:
        - skywalking-network
      depends_on:
        - es-node    

  volumes:
   es-data01:
     driver: local

  networks:
   skywalking-network:
     driver: bridge
  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;发现 es中会创建一堆索引
&lt;img src=&quot;/images/202207/WechatIMG350.png&quot; alt=&quot;&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;检查以上4个容器是否都正常启动 docker logs XXX ， 打开 localhost:8088 看到 UI启动好了&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;下载 java agent &lt;a href=&quot;https://skywalking.apache.org/downloads/#Agents&quot;&gt;https://skywalking.apache.org/downloads/#Agents&lt;/a&gt; 通过设置 -javaagent 配置 SkyWalking Agent&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在idea中设置vm options,   -javaagent:/Users/gongchangyou/learn/skywalking/skywalking-agent/skywalking-agent.jar,  具体的配置可以去 /Users/gongchangyou/learn/skywalking/skywalking-agent/config/agent.config 看看&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/202207/WechatIMG355.png&quot; alt=&quot;&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;完成 打开 http://localhost:8088/trace 看看&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/202207/WechatIMG356.png&quot; alt=&quot;&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;p&gt;问题1: org.apache.skywalking.oap.server.library.module.ProviderNotFoundException&lt;/p&gt;

&lt;p&gt;回答1: 应该是ES版本和skywalking版本不匹配导致，把版本先对应好，比如上面的yml中的ES从 8.2.0降到:7.5.0&lt;/p&gt;

&lt;p&gt;skywalking版本保持在 8.9.1&lt;/p&gt;

&lt;p&gt;参考文章： &lt;a href=&quot;https://skywalking.apache.org/zh/2020-04-19-skywalking-quick-start/&quot;&gt;https://skywalking.apache.org/zh/2020-04-19-skywalking-quick-start/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/xiao987334176/p/13530575.html&quot;&gt;https://www.cnblogs.com/xiao987334176/p/13530575.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://hub.docker.com/r/apache/skywalking-oap-server&quot;&gt;https://hub.docker.com/r/apache/skywalking-oap-server&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://skywalking.apache.org/docs/main/v8.9.1/en/setup/backend/backend-docker/&quot;&gt;https://skywalking.apache.org/docs/main/v8.9.1/en/setup/backend/backend-docker/&lt;/a&gt;&lt;/p&gt;
</description>
				<pubDate>Thu, 21 Jul 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/07/skywalking</link>
				<guid isPermaLink="true">http://localhost:4000/2022/07/skywalking</guid>
			</item>
		
			<item>
				<title>java agent</title>
				<description>&lt;h1 id=&quot;java-agent&quot;&gt;java agent&lt;/h1&gt;

&lt;p&gt;参考文章： &lt;a href=&quot;https://xz.aliyun.com/t/9450&quot;&gt;https://xz.aliyun.com/t/9450&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/rickiyang/p/11368932.html&quot;&gt;https://www.cnblogs.com/rickiyang/p/11368932.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;代码仓库: &lt;a href=&quot;https://github.com/gongchangyou/javaagent_test&quot;&gt;https://github.com/gongchangyou/javaagent_test&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;premain 启动应用的同时 添加 -javaagent:/path/to/agent.jar&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;问题1：Failed to find Premain-Class manifest attribute&lt;/p&gt;

&lt;p&gt;回答1:  解压缩我打的包之后发现 MANIFEST.MF文件被替换成了默认的. 我们用maven 插件修改他&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Manifest-Version: 1.0
Archiver-Version: Plexus Archiver
Created-By: Apache Maven 3.6.3
Built-By: gongchangyou
Build-Jdk: 11.0.12


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-jar-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;3.1.0&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;archive&amp;gt;
            &amp;lt;!--自动添加META-INF/MANIFEST.MF --&amp;gt;
            &amp;lt;manifest&amp;gt;
                &amp;lt;addClasspath&amp;gt;true&amp;lt;/addClasspath&amp;gt;
            &amp;lt;/manifest&amp;gt;
            &amp;lt;manifestEntries&amp;gt;
                &amp;lt;Premain-Class&amp;gt;com.mouse.PreDemo&amp;lt;/Premain-Class&amp;gt;
                &amp;lt;Agent-Class&amp;gt;com.mouse.AgentDemo&amp;lt;/Agent-Class&amp;gt;
                &amp;lt;Can-Redefine-Classes&amp;gt;true&amp;lt;/Can-Redefine-Classes&amp;gt;
                &amp;lt;Can-Retransform-Classes&amp;gt;true&amp;lt;/Can-Retransform-Classes&amp;gt;
            &amp;lt;/manifestEntries&amp;gt;
        &amp;lt;/archive&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;ol&gt;
  &lt;li&gt;agentmain 应用已经启动的情况下，将agent.jar attach上去&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;代码仓库: &lt;a href=&quot;https://github.com/gongchangyou/agent_main&quot;&gt;https://github.com/gongchangyou/agent_main&lt;/a&gt;
  &lt;a href=&quot;https://github.com/gongchangyou/agent_demo&quot;&gt;https://github.com/gongchangyou/agent_demo&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      java -jar agent.jar pid /path/to/app.jar
      
      # 一个例子
      java -jar javaagent_test-1.0-SNAPSHOT.jar 40843 /Users/gongchangyou/learn/spring_xml_test/target/spring_xml_test-0.0.1-SNAPSHOT.jar
      
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;问题1： Agent JAR not found or no Agent-Class attribute&lt;/p&gt;

&lt;p&gt;回答1：loadAgent ， agent.jar注意用绝对路径&lt;/p&gt;

&lt;p&gt;参考文章: &lt;a href=&quot;https://blog.csdn.net/weixin_37828719/article/details/106237872&quot;&gt;https://blog.csdn.net/weixin_37828719/article/details/106237872&lt;/a&gt;&lt;/p&gt;
</description>
				<pubDate>Sat, 16 Jul 2022 10:25:06 +0800</pubDate>
				<link>http://localhost:4000/2022/07/java-agent</link>
				<guid isPermaLink="true">http://localhost:4000/2022/07/java-agent</guid>
			</item>
		
	</channel>
</rss>
